目录：
common : 存放公共源码，组件
niu_mgmt : xiaoniu主服务代码



编译方式：
方式1：将niu_app复制到SDK中的example中编译
方式2: 将niu_app/niu_mgnt中Makefile的QL_ROOT_DIR字段指定为SDK目录，然后可直接再当前目录编译


LOG查看方式：
代码里面的LOG使用LOG_V,LOG_D,LOG_I,LOG_W,LOG_E,LOG_F等方式，查看可以使用logcat命令，
默认v等级LOG比较多，可使用logcat -s  niu_mgmt:d 或者 logcat -s niu_mgmt:d等方式查看d等级以上的LOG



更新日志：

2019-08-20
1. 设置u-blox 的nmea，星系（GPS+Galileo+BD）
2. 恢复出厂设置时用之前上位机写入的配置文件覆盖mcu的配置
3. 计算gps 信号强度 时 使用GSV中TOP4的值取平均
4. 修复骑行过程中，GPS定位不准问题

2019-08-12
1. 需求变更，fota升级时，版本检查增加method字段上报
2. 休眠唤醒逻辑调整，修复间隔为5秒的模板触发不及时的问题
3. 修复去除gsensor和work mode后编译出错的问题


2019-07-15
1. 修复一个mcu uart接收数据时的错误；
2. 取消work mode 初始化；
3. 解决陀螺仪唤醒之后GPS无法定位问题；
4. 解决刚开机GPS还未定位成功模块进入休眠的问题；
5. 增加FOTA版本号设置；


2019-07-03
1. 移除SMT中陀螺仪部分的检测；
2. 修复IOT下发FOTA升级指令，EC25端不执行的问题；
3. 增加双核通信时，增加字段是否更改的判断，未更改的字段不同步到MCU；


2019-06-26
1. 修复app启动时，配置同步不完整，导致上报历史信息时加密用的aes_key为空，IOT不能解密的BUG
2. 关闭MCU同步总表数据时的打印显示

2019-06-25
1. 客戶需求变更，去除acc off时，前两分钟不上报震动报警的功能；
2. 修复同步配置文件后，多次尝试连接IOT后，上报信息不能正确显示的问题；
3. 移除了一些循环显示的log，主要是low_power检测方面的；

2019-06-15
1. 修改json配置处理方式，EC25本地不保存配置文件
2. 修改断电保存数据处理方式，EC25本地不保存断电需要保存的数据
3. 增加开机自动从MCU同步ECU数据的处理逻辑
4. 调整EC25休眠逻辑

2019-05-20
1. 增加沃达丰、电信、联通等APN设置
2. 增加V3总表新增的字段，ecu_reboot_count，emcu_remote_group_code，foc_acc_mode_stat
3. 修复无网环境时，AGPS更新会报错的问题
4. 优化上位机写配置文件实现逻辑
5. 优化acc off时，2分钟内震动报警时，不检测模版触发
6. 修复FOTA升级时，偶尔会出现错误的情况
7. 优化GPS功耗；
8. 修复SMT测试的BUG，关于GPIO中断释放；
9. 优化网络状态灯显示;

2019-04-19
1. 修复IOT上查询中控电量均为0的bug
2. 修复震动报警在打开ACC的情况下（此时无震动）需过很久才能恢复正常的bug
3. 修复SMT测试失败的bug
4. 增加双核通信检查的log输出

2019-03-29
1. 新增了恢复出厂设置，重启，切换BJ/FK/DEV功能
2. 修复模版上报时必须先上报一次的bug
3. 修复仪表显示时间会跳时区的bug




